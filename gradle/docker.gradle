bootBuildImage {
	imageName = "${project.group}/${project.name}:${project.version}"

//	publish = true
//	docker {
//		host = "tcp://192.168.99.100:2376"
//		tlsVerify = true
//		certPath = "/home/users/.minikube/certs"
//		publishRegistry {
//			username = "user"
//			password = "secret"
//			url = "https://docker.example.com/v1/"
//			email = "user@example.com"
//		}
//	}
}

task displayDockerImageName {
	description = "Displays docker image name for ${project.name}."
	group = 'help'

	doLast {
		println "Docker image name: ${bootBuildImage.imageName}"
	}
}

task displaySampleDockerCompose {
	description = "Displays docker compose file for ${project.name}."
	group = 'help'

	doLast {
		println """
---
version: '2'
services:
  ${project.name}:
    image: ${bootBuildImage.imageName}
    container_name: ${project.name}
    restart: always
    ports:
      - 8080:8080
    environment:
      spring.profiles.active: docker
"""
	}
}